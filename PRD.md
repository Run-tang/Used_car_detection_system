# 车易检 - 二手车检测系统产品需求文档 (PRD)

| 文档版本 | V1.0 |
| :--- | :--- |
| **文档状态** | 正式发布 |
| **撰写人** | 高级产品经理 |
| **最后更新** | 2026-02-04 |

---

## 版本历史

| 版本 | 日期 | 作者 | 变更说明 |
| :--- | :--- | :--- | :--- |
| V1.0 | 2026-02-04 | 高级产品经理 | 初始版本发布，包含核心业务流程与功能模块定义 |

---

## 1. 产品概述 (Product Overview)

### 1.1 背景 (Background)
随着二手车交易规模的扩大，传统的线下检测模式面临着效率低、标准不统一、数据留存难等痛点。车商及检测机构亟需一套数字化的检测管理系统，以实现"一车一档"的精细化管理，提升检测效率与报告的公信力。

### 1.2 产品目标 (Goals)
1.  **标准化作业**：通过动态模板系统，强制规范不同车型的检测项目与标准。
2.  **全流程数字化**：实现从工单创建、派单、检测执行到报告生成的端到端在线流转。
3.  **资产数字化**：建立以 VIN 码为核心的车辆档案库，累积车辆全生命周期检测数据。
4.  **效能可视化**：量化检测师工作绩效，辅助管理层进行运营决策。

### 1.3 适用范围 (Scope)
本系统适用于二手车经销商、第三方检测机构及大型二手车交易市场的车辆入库检测、售前检测及复检场景。

### 1.4 术语定义

| 术语 | 定义 |
| :--- | :--- |
| VIN | 车辆识别代号（Vehicle Identification Number），17位唯一编码 |
| 工单 | 检测任务的载体，记录车辆信息、检测师指派、执行状态等 |
| 检测模板 | 预定义的检测项目集合，包含大类、小项及检查标准 |
| 车况等级 | 根据检测结果综合评定的车辆状况等级（A/B/C/D） |
| 一车一档 | 以VIN为核心，聚合车辆所有历史检测记录的管理模式 |

---

## 2. 用户角色与权限矩阵 (User Roles & Permissions)

### 2.1 角色定义

| 角色 | 职责描述 | 使用终端 |
| :--- | :--- | :--- |
| **调度/客服** | 负责创建工单、管理车辆档案、调配检测资源（派单） | PC端 |
| **检测师** | 接收任务，执行现场检测，录入检测数据（图文），提交审核 | 移动端/Pad |
| **审核员** | 复核检测报告的完整性与准确性，把控报告质量 | PC端 |
| **管理员** | 配置系统参数，管理检测模板，维护人员账户权限 | PC端 |

### 2.2 权限矩阵

| 功能模块 | 调度/客服 | 检测师 | 审核员 | 管理员 |
| :--- | :--- | :--- | :--- | :--- |
| 工单管理（查看） | ✅ | ✅（仅自己的） | ✅ | ✅ |
| 工单管理（创建/编辑） | ✅ | ❌ | ❌ | ✅ |
| 工单管理（派单） | ✅ | ❌ | ❌ | ✅ |
| 现场检测执行 | ❌ | ✅ | ❌ | ❌ |
| 报告审核 | ❌ | ❌ | ✅ | ✅ |
| 报告导出 | ✅ | ✅（仅自己的） | ✅ | ✅ |
| 检测师管理 | ❌ | ❌（仅查看自己） | ❌ | ✅ |
| 模板配置 | ❌ | ❌ | ❌ | ✅ |
| 车辆档案 | ✅ | ✅（查看） | ✅ | ✅ |
| 系统设置 | ❌ | ❌ | ❌ | ✅ |

---

## 3. 业务流程 (Business Process)

### 3.1 核心业务流程图

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ 工单创建 │ -> │ 派单分配 │ -> │ 现场检测 │ -> │ 报告提交 │ -> │ 在线审核 │ -> │ 报告生成 │ -> │ 关联档案 │
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
     ↑              │              │              │              │                                 │
     │              │              │              │              │                                 │
     └──────────────┴──────────────┴──────────────┴──────────────┴─────────────────────────────────┘
                                    （VIN码串联全流程）
```

### 3.2 工单状态流转

```
                    ┌──────────┐
         ┌─────────│  已取消  │
         │         └──────────┘
         │              ↑
         │    取消      │
         │              │
    ┌────────┐    ┌────────┐    ┌────────┐    ┌────────┐    ┌────────┐
    │ 待派单 │ -> │ 待检测 │ -> │ 检测中 │ -> │ 待审核 │ -> │ 已完成 │
    └────────┘    └────────┘    └────────┘    └────────┘    └────────┘
         ↑              │              │              │              │
         │              │              │              │              │
         └──────────────┴──────────────┴──────────────┴──────────────┘
                              （支持状态回退/重新派单）
```

### 3.3 检测报告审核流程

```
┌─────────┐     ┌───────────┐     ┌───────────┐     ┌─────────┐
│ 提交审核 │ --> │  审核中   │ --> │  审核通过 │ --> │ 已归档  │
└─────────┘     └───────────┘     └───────────┘     └─────────┘
                      │
                      ↓
                ┌───────────┐     ┌─────────┐
                │  审核驳回 │ --> │ 待修改  │ --> （返回检测师修改）
                └───────────┘     └─────────┘
```

---

## 4. 功能需求 (Functional Requirements)

### 4.1 检测工单管理 (Work Order Management)

**目标**：高效处理检测请求，确保任务不遗漏。

#### 4.1.1 智能建单
- **VIN自动识别**：
  - 支持输入 VIN 码自动检索库存车辆档案，回填车辆品牌、型号及保管人信息，减少重复录入。
  - 若档案不存在，支持快捷创建新车辆档案。
- **必填字段**：
  - 预约检测时间（日期时间选择器，支持快速选择今日/明日）
  - 检测地点（支持地图定位，自动填充经纬度及文本地址）
  - 联系人及电话（可从档案带入，支持修改）
- **选填字段**：
  - 内部备注（仅内部可见，不展示在报告中）
  - 优先级标记（普通/加急）

#### 4.1.2 灵活派单
- **手动派单**：
  - 调度员可查看各检测师当前的"待处理任务数"及在线状态，实现负载均衡指派。
  - 支持重新指派（原检测师任务自动回收）。
- **状态流转**：
  - 清晰定义 `待派单` > `待检测` > `检测中` > `待审核` > `已完成` 状态机。
  - 各状态变更需记录操作日志（操作人、时间、备注）。

#### 4.1.3 工单列表
| 字段名称 | 说明 |
| :--- | :--- |
| 工单编号 | 系统自动生成的唯一业务标识 (如 WO-20231001-001) |
| 车辆信息 | 品牌车系、车牌号 |
| VIN | 车辆识别代号 |
| 检测师 | 当前指派人员姓名 |
| 任务状态 | 业务阶段标签（带颜色区分） |
| 预约时间 | 计划检测时间 |
| 关联状态 | 是否已关联车辆档案 |
| 操作区域 | 详情、派单、重派、预览报告 |

#### 4.1.4 工单详情页
| 板块 | 字段 |
| :--- | :--- |
| 基础信息 | 工单编号（只读）、创建时间、预约时间、检测地点 |
| 车辆信息 | 品牌车系、车型年份、VIN码、表显里程、车牌号 |
| 保管/客户 | 联系人、联系电话 |
| 任务指派 | 指定检测师（下拉选择，仅展示活跃检测师） |
| 备注信息 | 内部备注（多行文本） |
| 关联档案 | 已关联的库存车辆 ID，支持跳转 |
| 操作日志 | 状态变更历史记录 |

---

### 4.2 移动端检测执行 (Mobile Inspection)

**目标**：为检测师提供流畅的作业工具。

#### 4.2.1 任务接收
- 检测师登录后首页展示"我的待办"任务列表。
- 支持按预约时间排序，加急任务置顶显示。
- 点击任务进入检测执行页面。

#### 4.2.2 动态模板加载
- **模板匹配**：
  - 系统根据工单关联车辆的能源类型（燃油/EV），自动加载对应的检测模板。
  - 若无可用的活跃模板，提示"模板配置异常"并阻断检测流程。
- **检测项录入**：
  - **通过/异常**：开关选择，异常时强制要求填写描述和上传照片。
  - **文本录入**：支持语音转文字输入。
  - **数值录入**：如漆膜厚度，支持多次测量取平均值。
  - **多选标签**：预设常用缺陷描述标签，快速选择。
  - **照片上传**：支持现场拍照（带时间水印、定位水印），最少照片数量限制。

#### 4.2.3 异常项强逻辑
- 所有判定为"异常"的项目，系统自动标记为必填的具体缺陷描述与照片证据，防止漏记。
- 严重异常项需二次确认（弹窗提示）。

#### 4.2.4 暂存与提交
- 支持检测数据本地暂存，网络恢复后自动同步。
- 提交前强制校验所有必填项是否完成。
- 提交后工单状态自动变更为"待审核"。

---

### 4.3 检测报告系统 (Inspection Report System)

**目标**：产出专业、易读、具备公信力的交付物。

#### 4.3.1 报告生成
- 检测数据提交后，系统自动计算综合评分（0-100）并评定车况等级（A-D）。
- 支持生成 PDF 报告（带防伪水印及二维码验证）。

#### 4.3.2 报告详情页（沉浸式预览）

| 板块 | 内容说明 |
| :--- | :--- |
| **概览抬头** | 综合评分（大号数字展示）、车况等级（色块标签 A绿/B蓝/C黄/D红）、报告总结文本、车辆标签（自动生成的如：无事故、非水泡） |
| **异常汇总** | 缺陷列表（仅展示状态为"异常/Fail"的项目）、缺陷描述及严重程度（轻微/中度/严重）、建议处理措施 |
| **分类详情** | 左侧导航（证件、外观、机舱、底盘、内饰、路试等锚点）、检测项列表（项目名称、是否必检、结果状态、备注、照片凭证轮播） |

#### 4.3.3 一车一档关联
- 报告生成后，支持一键将核心数据（分数、等级、关键缺陷）回写至车辆主档案。
- 关联后车辆档案页展示最新检测报告概览。

#### 4.3.4 报告列表
| 字段名称 | 说明 |
| :--- | :--- |
| 报告编号 | 对应工单编号 |
| 车辆信息 | 品牌型号、VIN 码 |
| 综合评分 | 0-100 分 |
| 车况等级 | A/B/C/D 级 |
| 异常项数 | 缺陷/异常统计 |
| 检测日期 | 报告生成日期 |
| 操作区域 | 预览、导出PDF、关联档案 |

---

### 4.4 车辆档案库 (Vehicle Archives)

**目标**：构建车辆数据资产。

#### 4.4.1 档案建立
- **身份唯一性**：以 VIN 码（17位）作为唯一主键，确保数据不冲突。
- **档案创建方式**：
  - 工单创建时自动创建（VIN不存在时）。
  - 手动批量导入。

#### 4.4.2 档案列表
| 字段名称 | 说明 |
| :--- | :--- |
| VIN 码 | 核心索引键 |
| 品牌车型 | 品牌+车系+年款 |
| 车牌号 | 支持模糊搜索 |
| 里程 | 万公里（最新检测数据） |
| 状态 | 在库 / 已售 / 未知 |
| 建档时间 | 首次录入时间 |
| 操作区域 | 查看详情、编辑 |

#### 4.4.3 档案详情页
| 板块 | 字段 |
| :--- | :--- |
| **车辆参数** | VIN（17位，不可修改）、品牌/车型、颜色、排放标准、初登日期 |
| **库存信息** | 存放仓库、保管人、入库时间 |
| **检测履历** | 历史报告列表（时间/分数/等级，支持点击跳转）、分数趋势折线图 |
| **状态变更记录** | 在库->已售等状态变更历史 |

---

### 4.5 检测配置中心 (Configuration Center)

**目标**：适应多变的业务需求与车型迭代。

#### 4.5.1 模板引擎
- **模板定制**：
  - 支持自定义检测大类（Category）与细项（Item）。
  - 支持配置输入类型：通过/异常开关、文本录入、数值（漆膜厚度）、多选标签。
  - 支持配置是否必填、最少照片数量、检查指引说明。
- **适用车型**：单选（燃油/新能源），同一车型分类下仅允许启用一个生效模板。

#### 4.5.2 模板列表
| 字段名称 | 说明 |
| :--- | :--- |
| 模板名称 | 业务名称 |
| 适用车型 | 燃油 / 新能源 |
| 包含大类 | 一般为 8-10 个 |
| 包含小项 | 细项总数 |
| 状态 | 已启用 / 草稿 / 停用 |
| 更新时间 | 最后修改时间 |
| 操作区域 | 编辑、复制、预览、启用/停用 |

#### 4.5.3 模板编辑页
| 板块 | 字段 |
| :--- | :--- |
| 基础设置 | 模板名称（必填）、适用车型（单选）、模板描述（选填） |
| 类目配置 | 大类名称、排序权重（拖拽排序） |
| 检查项配置 | 项目名称、数据类型、是否必填、拍照要求、检查指引 |

#### 4.5.4 互斥策略
- 强制校验同一车型分类下仅允许启用一个生效模板，避免业务混乱。
- 启用新模板时，自动停用该车型下的旧模板，并提示确认。

---

### 4.6 检测师管理 (Inspector Management)

**目标**：管理执行检测任务的人员信息及其工作效能。

#### 4.6.1 账户管理
- 检测师基本信息编辑、账户状态切换（启用/禁用）。
- 禁用后该检测师不可被派单，但保留历史数据。

#### 4.6.2 检测师列表
| 字段名称 | 说明 |
| :--- | :--- |
| 姓名 | 检测师实名 |
| 城市/区域 | 负责业务区域 |
| 待检测数 | 点击可跳转至该检测师的待办工单 |
| 累计已检 | 历史完成总量 |
| 平均耗时 | 分钟/台 |
| 账户状态 | switch 开关（启用/禁用） |
| 操作区域 | 编辑、查看详情 |

#### 4.6.3 检测师详情/编辑
| 板块 | 字段 |
| :--- | :--- |
| 身份信息 | 头像、姓名、手机号（登录账号）、负责城市 |
| 账户控制 | 账户状态（启用/禁用） |
| 效能数据 | 当前任务数、累计完成数、平均耗时（只读统计） |

---

### 4.7 检测结果审核 (Inspection Audit)

**目标**：质检环节，确保检测报告的真实性与准确性。

#### 4.7.1 审核列表
| 字段名称 | 说明 |
| :--- | :--- |
| 工单号 | 关联 ID |
| 提交人 | 检测师 |
| 提交时间 | 时间戳 |
| 车辆 | 简要信息 |
| 审核状态 | 待审核 / 已驳回 / 已通过 |
| 操作区域 | 审核 |

#### 4.7.2 审核页
| 板块 | 字段 |
| :--- | :--- |
| 报告预览 | 嵌入完整的检测报告只读视图 |
| 审核操作 | 审核结果（通过/驳回）、驳回原因（驳回时必填）、关联档案（确认同步至车辆档案）、审核备注 |

#### 4.7.3 审核规则
- 审核通过后，报告状态变更为"已发布"，可对外分享/导出。
- 审核驳回需填写驳回原因，工单状态回退至"检测中"，返回检测师修改。

---

### 4.8 数据看板 (Dashboard)

**目标**：为管理层提供运营决策数据支持。

#### 4.8.1 实时看板
- **检测师状态监控**：在线/离线状态、当前任务数。
- **今日概览**：今日待检测数、已完成数、平均检测时长。
- **异常预警**：超时未检测任务、异常高发车型。

#### 4.8.2 统计指标
| 指标 | 说明 |
| :--- | :--- |
| 通过率 | 一次性审核通过的报告占比 |
| 异常检出率 | 不同车型/年份车辆的平均缺陷数量分析 |
| 库存周转 | 车辆从"入库检测"到"已售"状态的平均周期 |
| 检测师效能 | 人均日检测量、平均单车耗时趋势 |

---

## 5. 非功能需求 (Non-functional Requirements)

### 5.1 响应性能
- 列表页加载速度 < 1秒（百条数据量级）。
- 报告详情页（含大量图片）首屏渲染时间 < 2秒。
- 图片上传支持断点续传，单张图片上传 < 3秒（4G网络环境）。

### 5.2 数据安全
- 敏感信息（如车主电话、具体库位）需根据角色权限进行脱敏展示。
- 所有检测照片需上传至私有对象存储，并定期异地备份。
- 关键操作（审核通过、报告发布）需记录操作日志，支持审计追溯。
- 数据传输采用 HTTPS 加密。

### 5.3 兼容性
- PC 端管理后台适配主流浏览器（Chrome/Edge 最新两个版本）。
- 检测执行端需适配 iPad 及主流大屏手机（iOS 14+/Android 10+），支持触摸操作。
- 支持响应式布局，最小适配 375px 宽度屏幕。

### 5.4 可靠性
- 系统可用性 > 99.5%（ excluding scheduled maintenance）。
- 支持检测数据本地缓存，网络异常时可离线作业，恢复后自动同步。
- 关键业务数据（工单、报告）需有定期备份机制。

### 5.5 可扩展性
- 模板配置支持动态扩展，新增检测项无需修改代码。
- 车型分类支持自定义扩展（如增加混动类型）。
- 评分算法支持通过配置调整权重。

---

## 6. 数据需求 (Data Requirements)

### 6.1 核心数据指标
需要系统自动沉淀以下核心数据指标，用于后续的数据分析：

| 指标类别 | 具体指标 | 计算方式 |
| :--- | :--- | :--- |
| 质量指标 | 通过率 | 一次性审核通过的报告数 / 总提交审核数 |
| 质量指标 | 异常检出率 | 检出异常项的报告数 / 总报告数 |
| 效能指标 | 平均检测时长 | 检测开始时间到提交审核时间的平均值 |
| 效能指标 | 人均日检测量 | 总完成工单数 / 工作天数 / 检测师人数 |
| 业务指标 | 库存周转天数 | 车辆从"入库检测"到"已售"的平均天数 |
| 业务指标 | 复检率 | 审核驳回后重新提交的工单数 / 总工单数 |

### 6.2 数据留存策略

| 数据类型 | 留存期限 | 说明 |
| :--- | :--- | :--- |
| 检测报告 | 永久 | 核心业务数据 |
| 检测照片 | 5年 | 到期后转冷存储 |
| 操作日志 | 3年 | 审计需要 |
| 临时缓存数据 | 7天 | 自动清理 |

---

## 7. 界面与交互需求 (UI/UX Requirements)

### 7.1 设计原则
- **简洁高效**：检测师移动端界面遵循"单手操作"原则，核心按钮位于屏幕下半区。
- **状态可见**：所有列表页需清晰展示状态标签，支持状态筛选。
- **防错设计**：关键操作（如提交审核、删除数据）需二次确认。
- **反馈及时**：操作成功后给予明确反馈（Toast提示）。

### 7.2 页面布局规范
- PC端：左侧固定导航（200px），右侧内容区（自适应）。
- 移动端：底部Tab导航（检测师角色）或顶部导航栏。

### 7.3 视觉规范
- 主色调：#1890ff（Ant Design 蓝色）。
- 状态颜色：成功-绿色、警告-橙色、错误-红色、进行中-蓝色。
- 字体：系统默认字体，PC端正文 14px，移动端 16px（保证可读性）。

---

## 8. 风险与应对 (Risks & Mitigation)

| 风险 | 影响 | 应对措施 |
| :--- | :--- | :--- |
| 检测师不熟悉智能设备 | 使用阻力大 | 提供简化版操作界面，线下培训，操作手册 |
| 网络信号不稳定（地下车库等） | 数据无法提交 | 支持离线缓存，网络恢复后自动同步 |
| 照片占用存储过大 | 成本增加 | 图片压缩上传，定期归档冷存储 |
| VIN码识别错误 | 档案错乱 | VIN校验位验证，人工二次确认 |
| 模板配置错误 | 检测流程阻断 | 模板启用前强制预览，关键配置变更需审批 |

---

## 9. 附录

### 9.1 参考文档
- [功能清单](FUNCTION_LIST.md)
- [项目README](README.md)

### 9.2 待确认事项
1. 是否支持多仓库/多门店模式？
2. 检测报告是否需要支持客户电子签名确认？
3. 是否需要与第三方ERP系统对接？
4. 评分算法具体权重如何设定？

---

*注：本 PRD 为核心业务版本，后续迭代将持续完善各模块的交互细节与数据埋点需求。*
